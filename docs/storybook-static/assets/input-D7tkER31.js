import{t as D,c as L}from"./bundle-mjs-BNe0Xlio.js";import{j as R}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-Br2IOmUs.js";import{u as B}from"./useStableCallback-CgA2ffE5.js";import{u as S}from"./useControlled-BhWCjR1C.js";import{u as U}from"./useIsoLayoutEffect-B3i3ZXBb.js";import{a as x,u as A,b as K,f as $}from"./LabelableContext-DhTQYAer.js";import{u as q}from"./useLabelableId-BJBp94oK.js";import{u as z}from"./useRenderElement-DBf0zvZM.js";import{c as G,n as H}from"./createBaseUIEventDetails-BfRHIGKf.js";const J=d.forwardRef(function(a,o){const{render:W,className:X,id:w,name:C,value:i,disabled:y=!1,onValueChange:s,defaultValue:f,...I}=a,{state:c,name:h,disabled:E}=x(),u=E||y,m=h??C,F=d.useMemo(()=>({...c,disabled:u}),[c,u]),{setTouched:p,setDirty:V,validityData:P,setFocused:b,setFilled:l,validationMode:T,validation:t}=x(),{labelId:k}=A(),v=q({id:w});U(()=>{var r;const e=i!=null;(r=t.inputRef.current)!=null&&r.value||e&&i!==""?l(!0):e&&i===""&&l(!1)},[t.inputRef,l,i]);const[g,M]=S({controlled:i,default:f,name:"FieldControl",state:"value"}),N=i!==void 0,j=B((e,r)=>{s==null||s(e,r),!r.isCanceled&&M(e)});return K({id:v,name:m,commit:t.commit,value:g,getValue:()=>{var e;return(e=t.inputRef.current)==null?void 0:e.value},controlRef:t.inputRef}),z("input",a,{ref:o,state:F,props:[{id:v,disabled:u,name:m,ref:t.inputRef,"aria-labelledby":k,...N?{value:g}:{defaultValue:f},onChange(e){const r=e.currentTarget.value;j(r,G(H,e.nativeEvent)),V(r!==P.initialValue),l(r!=="")},onFocus(){b(!0)},onBlur(e){p(!0),b(!1),T==="onBlur"&&t.commit(e.currentTarget.value)},onKeyDown(e){e.currentTarget.tagName==="INPUT"&&e.key==="Enter"&&(p(!0),t.commit(e.currentTarget.value))}},t.getInputValidationProps(),I],stateAttributesMapping:$})}),O=d.forwardRef(function(a,o){return R.jsx(J,{ref:o,...a})});function Q(...n){return D(L(n))}function se({className:n,type:a,...o}){return R.jsx(O,{type:a,"data-slot":"input",className:Q("dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 h-9 rounded-md border bg-transparent px-2.5 py-1 text-base shadow-xs transition-[color,box-shadow] file:h-7 file:text-sm file:font-medium focus-visible:ring-3 aria-invalid:ring-3 md:text-sm file:text-foreground placeholder:text-muted-foreground w-full min-w-0 outline-none file:inline-flex file:border-0 file:bg-transparent disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",n),...o})}export{se as I};
