import{r as c}from"./index-Br2IOmUs.js";import{r as q}from"./index-B1jiiJTD.js";import{f as et}from"./floating-ui.utils.dom-BR__G8pa.js";import{a as rt}from"./useBaseUiId-Ds3dA0Bv.js";import{u as K}from"./useIsoLayoutEffect-B3i3ZXBb.js";import{u as nt}from"./useStableCallback-CgA2ffE5.js";import{c as at}from"./detectBrowser-Cp-v3zjv.js";import{v as it}from"./visuallyHidden-BwafneL2.js";import{j as E}from"./jsx-runtime-D_zvdyIk.js";import{c as ot,f as st}from"./createBaseUIEventDetails-BfRHIGKf.js";import{c as lt}from"./useInteractions-DLoJm_bm.js";import{u as ut}from"./useRenderElement-DBf0zvZM.js";import{d as ct,c as C,b as dt}from"./element-vmEcGomw.js";import{E as ft}from"./empty-BwNtW-GQ.js";import{T as j}from"./useTransitionStatus-H-zITwNf.js";const te=500,ee=500,re={style:{transition:"none"}},ne="data-base-ui-click-trigger",ae={fallbackAxisSide:"none"},ie={fallbackAxisSide:"end"},bt={clipPath:"inset(50%)",position:"fixed",top:0,left:0};/*!
* tabbable 6.4.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vt=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],T=vt.join(","),U=typeof Element>"u",I=U?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,O=!U&&Element.prototype.getRootNode?function(r){var t;return r==null||(t=r.getRootNode)===null||t===void 0?void 0:t.call(r)}:function(r){return r==null?void 0:r.ownerDocument},x=function(t,e){var n;e===void 0&&(e=!0);var a=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),s=a===""||a==="true",o=s||e&&t&&(typeof t.closest=="function"?t.closest("[inert]"):x(t.parentNode));return o},pt=function(t){var e,n=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return n===""||n==="true"},Y=function(t,e,n){if(x(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(T));return e&&I.call(t,T)&&a.unshift(t),a=a.filter(n),a},N=function(t,e,n){for(var a=[],s=Array.from(t);s.length;){var o=s.shift();if(!x(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),d=u.length?u:o.children,i=N(d,!0,n);n.flatten?a.push.apply(a,i):a.push({scopeParent:o,candidates:i})}else{var f=I.call(o,T);f&&n.filter(o)&&(e||!t.includes(o))&&a.push(o);var b=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),p=!x(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(b&&p){var m=N(b===!0?o.children:b.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return a},z=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},W=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||pt(t))&&!z(t)?0:t.tabIndex},ht=function(t,e){var n=W(t);return n<0&&e&&!z(t)?0:n},gt=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Z=function(t){return t.tagName==="INPUT"},St=function(t){return Z(t)&&t.type==="hidden"},yt=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return e},mt=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},Et=function(t){if(!t.name)return!0;var e=t.form||O(t),n=function(u){return e.querySelectorAll('input[type="radio"][name="'+u+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(t.name));else try{a=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=mt(a,t.form);return!s||s===t},It=function(t){return Z(t)&&t.type==="radio"},Rt=function(t){return It(t)&&!Et(t)},Tt=function(t){var e,n=t&&O(t),a=(e=n)===null||e===void 0?void 0:e.host,s=!1;if(n&&n!==t){var o,u,d;for(s=!!((o=a)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(a)||t!=null&&(d=t.ownerDocument)!==null&&d!==void 0&&d.contains(t));!s&&a;){var i,f,b;n=O(a),a=(i=n)===null||i===void 0?void 0:i.host,s=!!((f=a)!==null&&f!==void 0&&(b=f.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return s},V=function(t){var e=t.getBoundingClientRect(),n=e.width,a=e.height;return n===0&&a===0},Ot=function(t,e){var n=e.displayCheck,a=e.getShadowRoot;if(n==="full-native"&&"checkVisibility"in t){var s=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(t).visibility==="hidden")return!0;var o=I.call(t,"details>summary:first-of-type"),u=o?t.parentElement:t;if(I.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof a=="function"){for(var d=t;t;){var i=t.parentElement,f=O(t);if(i&&!i.shadowRoot&&a(i)===!0)return V(t);t.assignedSlot?t=t.assignedSlot:!i&&f!==t.ownerDocument?t=f.host:t=i}t=d}if(Tt(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return V(t);return!1},xt=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var n=0;n<e.children.length;n++){var a=e.children.item(n);if(a.tagName==="LEGEND")return I.call(e,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}e=e.parentElement}return!1},P=function(t,e){return!(e.disabled||St(e)||Ot(e,t)||yt(e)||xt(e))},F=function(t,e){return!(Rt(e)||W(e)<0||!P(t,e))},Nt=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},J=function(t){var e=[],n=[];return t.forEach(function(a,s){var o=!!a.scopeParent,u=o?a.scopeParent:a,d=ht(u,o),i=o?J(a.candidates):u;d===0?o?e.push.apply(e,i):e.push(u):n.push({documentOrder:s,tabIndex:d,item:a,isScope:o,content:i})}),n.sort(gt).reduce(function(a,s){return s.isScope?a.push.apply(a,s.content):a.push(s.content),a},[]).concat(e)},D=function(t,e){e=e||{};var n;return e.getShadowRoot?n=N([t],e.includeContainer,{filter:F.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:Nt}):n=Y(t,e.includeContainer,F.bind(null,e)),J(n)},oe=function(t,e){e=e||{};var n;return e.getShadowRoot?n=N([t],e.includeContainer,{filter:P.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):n=Y(t,e.includeContainer,P.bind(null,e)),n},se=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return I.call(t,T)===!1?!1:F(e,t)};const k=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function X(r,t){const e=D(r,k()),n=e.length;if(n===0)return;const a=dt(C(r)),s=e.indexOf(a),o=s===-1?t===1?0:n-1:s+t;return e[o]}function Ct(r){return X(C(r).body,1)||r}function wt(r){return X(C(r).body,-1)||r}function Q(r,t){if(!r)return null;const e=D(C(r).body,k()),n=e.length;if(n===0)return null;const a=e.indexOf(r);if(a===-1)return null;const s=(a+t+n)%n;return e[s]}function le(r){return Q(r,1)}function ue(r){return Q(r,-1)}function A(r,t){const e=t||r.currentTarget,n=r.relatedTarget;return!n||!ct(e,n)}function At(r){D(r,k()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function B(r){r.querySelectorAll("[data-tabindex]").forEach(e=>{const n=e.dataset.tabindex;delete e.dataset.tabindex,n?e.setAttribute("tabindex",n):e.removeAttribute("tabindex")})}const M=c.forwardRef(function(t,e){const[n,a]=c.useState();K(()=>{at&&a("button")},[]);const s={tabIndex:0,role:n};return E.jsx("span",{...t,ref:e,style:it,"aria-hidden":n?void 0:!0,...s,"data-base-ui-focus-guard":""})}),$=c.createContext(null),Pt=()=>c.useContext($),Ft=lt("portal");function Lt(r={}){const{ref:t,container:e,componentProps:n=ft,elementProps:a,elementState:s}=r,o=rt(),u=Pt(),d=u==null?void 0:u.portalNode,[i,f]=c.useState(null),[b,p]=c.useState(null),m=nt(v=>{v!==null&&p(v)}),h=c.useRef(null);K(()=>{if(e===null){h.current&&(h.current=null,p(null),f(null));return}if(o==null)return;const v=(e&&(et(e)?e:e.current))??d??document.body;if(v==null){h.current&&(h.current=null,p(null),f(null));return}h.current!==v&&(h.current=v,p(null),f(v))},[e,d,o]);const l=ut("div",n,{ref:[t,m],state:s,props:[{id:o,[Ft]:""},a]});return{portalNode:b,portalSubtree:i&&l?q.createPortal(l,i):null}}const ce=c.forwardRef(function(t,e){const{children:n,container:a,className:s,render:o,renderGuards:u,...d}=t,{portalNode:i,portalSubtree:f}=Lt({container:a,ref:e,componentProps:t,elementProps:d}),b=c.useRef(null),p=c.useRef(null),m=c.useRef(null),h=c.useRef(null),[l,H]=c.useState(null),v=l==null?void 0:l.modal,G=l==null?void 0:l.open,w=typeof u=="boolean"?u:!!l&&!l.modal&&l.open&&!!i;c.useEffect(()=>{if(!i||v)return;function g(S){i&&S.relatedTarget&&A(S)&&(S.type==="focusin"?B:At)(i)}return i.addEventListener("focusin",g,!0),i.addEventListener("focusout",g,!0),()=>{i.removeEventListener("focusin",g,!0),i.removeEventListener("focusout",g,!0)}},[i,v]),c.useEffect(()=>{!i||G||B(i)},[G,i]);const tt=c.useMemo(()=>({beforeOutsideRef:b,afterOutsideRef:p,beforeInsideRef:m,afterInsideRef:h,portalNode:i,setFocusManagerState:H}),[i]);return E.jsxs(c.Fragment,{children:[f,E.jsxs($.Provider,{value:tt,children:[w&&i&&E.jsx(M,{"data-type":"outside",ref:b,onFocus:g=>{var S;if(A(g,i))(S=m.current)==null||S.focus();else{const R=l?l.domReference:null,y=wt(R);y==null||y.focus()}}}),w&&i&&E.jsx("span",{"aria-owns":i.id,style:bt}),i&&q.createPortal(n,i),w&&i&&E.jsx(M,{"data-type":"outside",ref:p,onFocus:g=>{var S;if(A(g,i))(S=h.current)==null||S.focus();else{const R=l?l.domReference:null,y=Ct(R);y==null||y.focus(),l!=null&&l.closeOnFocusOut&&(l==null||l.onOpenChange(!1,ot(st,g.nativeEvent)))}}})]})]})});let _=(function(r){return r.open="data-open",r.closed="data-closed",r[r.startingStyle=j.startingStyle]="startingStyle",r[r.endingStyle=j.endingStyle]="endingStyle",r.anchorHidden="data-anchor-hidden",r})({}),L=(function(r){return r.popupOpen="data-popup-open",r.pressed="data-pressed",r})({});const Dt={[L.popupOpen]:""},kt={[L.popupOpen]:"",[L.pressed]:""},_t={[_.open]:""},Ht={[_.closed]:""},Gt={[_.anchorHidden]:""},de={open(r){return r?Dt:null}},fe={open(r){return r?kt:null}},be={open(r){return r?_t:Ht},anchorHidden(r){return r?Gt:null}};export{ne as C,re as D,M as F,ee as P,te as T,le as a,Ct as b,Pt as c,D as d,k as e,wt as f,ue as g,se as h,A as i,oe as j,be as k,_ as l,ce as m,ie as n,bt as o,fe as p,ae as q,B as r,At as s,de as t,Lt as u};
