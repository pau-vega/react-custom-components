var le=Object.defineProperty;var pe=(t,o,r)=>o in t?le(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r;var V=(t,o,r)=>pe(t,typeof o!="symbol"?o+"":o,r);import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{t as ue,c as me}from"./bundle-mjs-BNe0Xlio.js";import{r as a}from"./index-Br2IOmUs.js";import{u as Z}from"./useIsoLayoutEffect-B3i3ZXBb.js";import{f as O,u as ge}from"./empty-BwNtW-GQ.js";import{b as L,a as fe,t as ve,e as Ce,c as he,m as xe}from"./createBaseUIEventDetails-BfRHIGKf.js";import{r as Se}from"./index-B1jiiJTD.js";import{p as we,c as Pe,d as ye,a as Te,b as Re,u as je}from"./useSyncedFloatingRootContext-BHS4UzMP.js";import{R as be,P as Ne,f as W,l as He,b as Oe}from"./useInteractions-DLoJm_bm.js";import{t as Ie,n as Ae,k as $}from"./popupStateMapping-B2J1S55N.js";import{u as k}from"./useRenderElement-DBf0zvZM.js";import{u as Ee}from"./useBaseUiId-Ds3dA0Bv.js";import{u as Me,a as ke}from"./useHoverReferenceInteraction-BCD5gqBx.js";import{s as De}from"./safePolygon-B1_E0Dln.js";import{u as Fe}from"./useFocus-Dd2F9aQQ.js";import{F as Be}from"./FloatingPortalLite-Boq3ScPJ.js";import{u as Ue,a as Ve,g as ee}from"./getDisabledMountTransitionStyles-xn1qLHjW.js";import{u as Le}from"./useStableCallback-CgA2ffE5.js";import{a as We,t as _e}from"./useTransitionStatus-H-zITwNf.js";import{B as te}from"./button-BPsk-mQ5.js";import{A as ze,a as Je,b as Ye}from"./avatar-CA4D0EHV.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-CGqftQ-p.js";import"./getEmptyRootContext-DHQYzQq2.js";import"./floating-ui.utils.dom-BR__G8pa.js";import"./useTimeout-DEENwbcq.js";import"./useOnMount-J4hPCZ9b.js";import"./event-D_tFMKDJ.js";import"./detectBrowser-Cp-v3zjv.js";import"./element-vmEcGomw.js";import"./constants-CRqqCNE_.js";import"./visuallyHidden-BwafneL2.js";import"./useValueAsRef-uCcb0GiG.js";import"./floating-ui.utils-CkpHT9gb.js";import"./owner-CQsS7OFZ.js";import"./DirectionContext-DcsIbjZ7.js";import"./useFloatingRootContext-Czq2kyX1.js";import"./useAnimationFrame-BGZzLPhQ.js";import"./index-BYe2eu78.js";import"./Button-BfmJxKsd.js";import"./useButton-D8OkA_9h.js";const re=a.createContext(void 0);function I(t){const o=a.useContext(re);if(o===void 0&&!t)throw new Error(O(50));return o}const Ke=600,oe=300,qe={...we,instantType:W(t=>t.instantType),hasViewport:W(t=>t.hasViewport)};class D extends be{constructor(r){super({...Ge(),...r},{popupRef:a.createRef(),onOpenChange:void 0,onOpenChangeComplete:void 0,triggerElements:new Ne,closeDelayRef:{current:oe}},qe);V(this,"setOpen",(r,c)=>{var u,n;const m=c.reason,p=m===L,s=r&&m===fe,f=!r&&(m===ve||m===Ce);if(c.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},(n=(u=this.context).onOpenChange)==null||n.call(u,r,c),c.isCanceled)return;const C=()=>{var v;const d={open:r};s?d.instantType="focus":f?d.instantType="dismiss":m===L&&(d.instantType=void 0);const l=((v=c.trigger)==null?void 0:v.id)??null;(l||r)&&(d.activeTriggerId=l,d.activeTriggerElement=c.trigger??null),this.update(d)};p?Se.flushSync(C):C()})}static useStore(r,c){const m=ge(()=>new D(c)).current,p=r??m,s=Pe({popupStore:p,onOpenChange:p.setOpen});return p.state.floatingRootContext=s,p}}function Ge(){return{...ye(),instantType:void 0,hasViewport:!1}}function Qe(t){const{open:o,defaultOpen:r=!1,onOpenChange:c,onOpenChangeComplete:m,actionsRef:p,handle:s,triggerId:f,defaultTriggerId:C=null,children:u}=t,n=D.useStore(s==null?void 0:s.store,{open:o??r,activeTriggerId:f!==void 0?f:C});n.useControlledProp("open",o,r),n.useControlledProp("activeTriggerId",f,C),n.useContextCallback("onOpenChange",c),n.useContextCallback("onOpenChangeComplete",m);const d=n.useState("open"),l=n.useState("activeTriggerId"),v=n.useState("payload");Te(n);const{forceUnmount:P}=Re(d,n);Z(()=>{d&&l==null&&n.set("payload",void 0)},[n,l,d]);const x=a.useCallback(()=>{n.setOpen(!1,Xe(n,xe))},[n]);a.useImperativeHandle(p,()=>({unmount:P,close:x}),[P,x]);const T=n.useState("floatingRootContext"),h=He(T),{getReferenceProps:g,getTriggerProps:y,getFloatingProps:S}=Oe([h]),w=a.useMemo(()=>g(),[g]),j=a.useMemo(()=>y(),[y]),R=a.useMemo(()=>S(),[S]);return n.useSyncedValues({activeTriggerProps:w,inactiveTriggerProps:j,popupProps:R}),e.jsx(re.Provider,{value:n,children:typeof u=="function"?u({payload:v}):u})}function Xe(t,o){const r=he(o);return r.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},r}const ne=a.createContext(void 0);function Ze(){const t=a.useContext(ne);if(t===void 0)throw new Error(O(48));return t}const $e=a.forwardRef(function(o,r){const{keepMounted:c=!1,...m}=o;return I().useState("mounted")||c?e.jsx(ne.Provider,{value:c,children:e.jsx(Be,{ref:r,...m})}):null}),et=a.forwardRef(function(o,r){const{render:c,className:m,delay:p,closeDelay:s,id:f,payload:C,handle:u,...n}=o,d=I(!0),l=(u==null?void 0:u.store)??d;if(!l)throw new Error(O(89));const v=Ee(f),P=l.useState("isTriggerActive",v),x=l.useState("isOpenedByTrigger",v),T=l.useState("floatingRootContext"),h=a.useRef(null),g=p??Ke,y=s??oe,{registerTrigger:S,isMountedByThisTrigger:w}=je(v,h,l,{payload:C});Z(()=>{w&&(l.context.closeDelayRef.current=y)},[l,w,y]);const j=Me(T,{mouseOnly:!0,move:!1,handleClose:De(),delay:()=>({open:g,close:y}),triggerElementRef:h,isActiveTrigger:P}),R=Fe(T,{delay:g}),E=a.useMemo(()=>({open:x}),[x]),M=l.useState("triggerProps",w);return k("a",o,{state:E,ref:[r,S,h],props:[j,R.reference,M,{id:v},n],stateAttributesMapping:Ie})}),se=a.createContext(void 0);function tt(){const t=a.useContext(se);if(t===void 0)throw new Error(O(49));return t}const rt=a.forwardRef(function(o,r){const{render:c,className:m,anchor:p,positionMethod:s="absolute",side:f="bottom",align:C="center",sideOffset:u=0,alignOffset:n=0,collisionBoundary:d="clipping-ancestors",collisionPadding:l=5,arrowPadding:v=5,sticky:P=!1,disableAnchorTracking:x=!1,collisionAvoidance:T=Ae,...h}=o,g=I(),y=Ze(),S=g.useState("open"),w=g.useState("mounted"),j=g.useState("floatingRootContext"),R=g.useState("instantType"),E=g.useState("transitionStatus"),M=g.useState("hasViewport"),i=Ue({anchor:p,floatingRootContext:j,positionMethod:s,mounted:w,side:f,sideOffset:u,align:C,alignOffset:n,arrowPadding:v,collisionBoundary:d,collisionPadding:l,sticky:P,disableAnchorTracking:x,keepMounted:y,collisionAvoidance:T,adaptiveOrigin:M?Ve:void 0}),ae=a.useMemo(()=>{const U={};return S||(U.pointerEvents="none"),{role:"presentation",hidden:!w,style:{...i.positionerStyles,...U}}},[S,w,i.positionerStyles]),ie=a.useMemo(()=>({open:S,side:i.side,align:i.align,anchorHidden:i.anchorHidden,instant:R}),[S,i.side,i.align,i.anchorHidden,R]),ce=a.useMemo(()=>({side:i.side,align:i.align,arrowRef:i.arrowRef,arrowUncentered:i.arrowUncentered,arrowStyles:i.arrowStyles}),[i.side,i.align,i.arrowRef,i.arrowUncentered,i.arrowStyles]),de=k("div",o,{state:ie,props:[ae,ee(E),h],ref:[r,g.useStateSetter("positionerElement")],stateAttributesMapping:$});return e.jsx(se.Provider,{value:ce,children:de})}),ot={...$,..._e},nt=a.forwardRef(function(o,r){const{className:c,render:m,...p}=o,s=I(),{side:f,align:C}=tt(),u=s.useState("open"),n=s.useState("instantType"),d=s.useState("transitionStatus"),l=s.useState("popupProps"),v=s.useState("floatingRootContext");We({open:u,ref:s.context.popupRef,onComplete(){var h,g;u&&((g=(h=s.context).onOpenChangeComplete)==null||g.call(h,!0))}});const P=Le(()=>s.context.closeDelayRef.current);ke(v,{closeDelay:P});const x=a.useMemo(()=>({open:u,side:f,align:C,instant:n,transitionStatus:d}),[u,f,C,n,d]);return k("div",o,{state:x,ref:[r,s.context.popupRef,s.useStateSetter("popupElement")],props:[l,ee(d),p],stateAttributesMapping:ot})});function st(...t){return ue(me(t))}function A({...t}){return e.jsx(Qe,{"data-slot":"hover-card",...t})}function F({...t}){return e.jsx(et,{"data-slot":"hover-card-trigger",...t})}function B({className:t,side:o="bottom",sideOffset:r=4,align:c="center",alignOffset:m=4,...p}){return e.jsx($e,{"data-slot":"hover-card-portal",children:e.jsx(rt,{align:c,alignOffset:m,side:o,sideOffset:r,className:"isolate z-50",children:e.jsx(nt,{"data-slot":"hover-card-content",className:st("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground w-64 rounded-lg p-4 text-sm shadow-md ring-1 duration-100 data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 z-50 origin-(--transform-origin) outline-hidden",t),...p})})})}const qt={title:"Overlays/Hover Card",component:A,parameters:{layout:"centered"},tags:["autodocs"]},b={render:()=>e.jsxs(A,{children:[e.jsx(F,{asChild:!0,children:e.jsx(te,{variant:"link",children:"@username"})}),e.jsx(B,{className:"w-80",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"@username"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The React Framework – created and maintained by @vercel."})]})})]})},N={render:()=>e.jsxs(A,{children:[e.jsx(F,{asChild:!0,children:e.jsx(te,{variant:"link",children:"@nextjs"})}),e.jsx(B,{className:"w-80",children:e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsxs(ze,{children:[e.jsx(Je,{src:"https://github.com/vercel.png"}),e.jsx(Ye,{children:"VC"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"@nextjs"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The React Framework – created and maintained by @vercel."}),e.jsx("div",{className:"flex items-center pt-2",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"Joined December 2021"})})]})]})})]})},H={render:()=>e.jsxs(A,{children:[e.jsx(F,{asChild:!0,children:e.jsx("span",{className:"underline decoration-dotted cursor-pointer",children:"Hover me"})}),e.jsx(B,{children:e.jsx("p",{className:"text-sm",children:"This is a simple hover card with minimal content."})})]})};var _,z,J;b.parameters={...b.parameters,docs:{...(_=b.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger asChild>
        <Button variant="link">@username</Button>
      </HoverCardTrigger>
      <HoverCardContent className="w-80">
        <div className="space-y-2">
          <h4 className="text-sm font-semibold">@username</h4>
          <p className="text-sm text-muted-foreground">
            The React Framework – created and maintained by @vercel.
          </p>
        </div>
      </HoverCardContent>
    </HoverCard>
}`,...(J=(z=b.parameters)==null?void 0:z.docs)==null?void 0:J.source}}};var Y,K,q;N.parameters={...N.parameters,docs:{...(Y=N.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger asChild>
        <Button variant="link">@nextjs</Button>
      </HoverCardTrigger>
      <HoverCardContent className="w-80">
        <div className="flex justify-between space-x-4">
          <Avatar>
            <AvatarImage src="https://github.com/vercel.png" />
            <AvatarFallback>VC</AvatarFallback>
          </Avatar>
          <div className="space-y-1">
            <h4 className="text-sm font-semibold">@nextjs</h4>
            <p className="text-sm text-muted-foreground">
              The React Framework – created and maintained by @vercel.
            </p>
            <div className="flex items-center pt-2">
              <span className="text-xs text-muted-foreground">Joined December 2021</span>
            </div>
          </div>
        </div>
      </HoverCardContent>
    </HoverCard>
}`,...(q=(K=N.parameters)==null?void 0:K.docs)==null?void 0:q.source}}};var G,Q,X;H.parameters={...H.parameters,docs:{...(G=H.parameters)==null?void 0:G.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger asChild>
        <span className="underline decoration-dotted cursor-pointer">Hover me</span>
      </HoverCardTrigger>
      <HoverCardContent>
        <p className="text-sm">This is a simple hover card with minimal content.</p>
      </HoverCardContent>
    </HoverCard>
}`,...(X=(Q=H.parameters)==null?void 0:Q.docs)==null?void 0:X.source}}};const Gt=["Default","WithAvatar","Simple"];export{b as Default,H as Simple,N as WithAvatar,Gt as __namedExportsOrder,qt as default};
