import{j as l}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./index-Br2IOmUs.js";import{t as $e,c as Ve}from"./bundle-mjs-BNe0Xlio.js";import{c as qe}from"./createLucideIcon-0w86QR-M.js";import"./_commonjsHelpers-Cpj98o6Y.js";/**
 * @license lucide-react v0.550.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M5 12h14",key:"1ays0h"}]],Je=qe("minus",Ze);var Ke=Object.defineProperty,Qe=Object.defineProperties,Ue=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Pe=(n,a,o)=>a in n?Ke(n,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[a]=o,Xe=(n,a)=>{for(var o in a||(a={}))ke.call(a,o)&&Pe(n,o,a[o]);if(Y)for(var o of Y(a))Me.call(a,o)&&Pe(n,o,a[o]);return n},Ye=(n,a)=>Qe(n,Ue(a)),et=(n,a)=>{var o={};for(var s in n)ke.call(n,s)&&a.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&Y)for(var s of Y(n))a.indexOf(s)<0&&Me.call(n,s)&&(o[s]=n[s]);return o};function tt(n){let a=setTimeout(n,0),o=setTimeout(n,10),s=setTimeout(n,50);return[a,o,s]}function nt(n){let a=t.useRef();return t.useEffect(()=>{a.current=n}),a.current}var rt=18,De=40,at=`${De}px`,ot=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function lt({containerRef:n,inputRef:a,pushPasswordManagerStrategy:o,isFocused:s}){let[T,p]=t.useState(!1),[y,C]=t.useState(!1),[_,G]=t.useState(!1),N=t.useMemo(()=>o==="none"?!1:(o==="increase-width"||o==="experimental-no-flickering")&&T&&y,[T,y,o]),A=t.useCallback(()=>{let h=n.current,j=a.current;if(!h||!j||_||o==="none")return;let b=h,O=b.getBoundingClientRect().left+b.offsetWidth,B=b.getBoundingClientRect().top+b.offsetHeight/2,u=O-rt,H=B;document.querySelectorAll(ot).length===0&&document.elementFromPoint(u,H)===h||(p(!0),G(!0))},[n,a,_,o]);return t.useEffect(()=>{let h=n.current;if(!h||o==="none")return;function j(){let O=window.innerWidth-h.getBoundingClientRect().right;C(O>=De)}j();let b=setInterval(j,1e3);return()=>{clearInterval(b)}},[n,o]),t.useEffect(()=>{let h=s||document.activeElement===a.current;if(o==="none"||!h)return;let j=setTimeout(A,0),b=setTimeout(A,2e3),O=setTimeout(A,5e3),B=setTimeout(()=>{G(!0)},6e3);return()=>{clearTimeout(j),clearTimeout(b),clearTimeout(O),clearTimeout(B)}},[a,s,o,A]),{hasPWMBadge:T,willPushPWMBadge:N,PWM_BADGE_SPACE_WIDTH:at}}var Re=t.createContext({}),We=t.forwardRef((n,a)=>{var o=n,{value:s,onChange:T,maxLength:p,textAlign:y="left",pattern:C,placeholder:_,inputMode:G="numeric",onComplete:N,pushPasswordManagerStrategy:A="increase-width",pasteTransformer:h,containerClassName:j,noScriptCSSFallback:b=it,render:O,children:B}=o,u=et(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),H,se,ue,ce,de;let[_e,Ae]=t.useState(typeof u.defaultValue=="string"?u.defaultValue:""),c=s??_e,k=nt(c),z=t.useCallback(e=>{T==null||T(e),Ae(e)},[T]),S=t.useMemo(()=>C?typeof C=="string"?new RegExp(C):C:null,[C]),d=t.useRef(null),re=t.useRef(null),ae=t.useRef({value:c,onChange:z,isIOS:typeof window<"u"&&((se=(H=window==null?void 0:window.CSS)==null?void 0:H.supports)==null?void 0:se.call(H,"-webkit-touch-callout","none"))}),J=t.useRef({prev:[(ue=d.current)==null?void 0:ue.selectionStart,(ce=d.current)==null?void 0:ce.selectionEnd,(de=d.current)==null?void 0:de.selectionDirection]});t.useImperativeHandle(a,()=>d.current,[]),t.useEffect(()=>{let e=d.current,r=re.current;if(!e||!r)return;ae.current.value!==e.value&&ae.current.onChange(e.value),J.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection];function f(){if(document.activeElement!==e){V(null),q(null);return}let i=e.selectionStart,v=e.selectionEnd,K=e.selectionDirection,P=e.maxLength,D=e.value,w=J.current.prev,I=-1,E=-1,R;if(D.length!==0&&i!==null&&v!==null){let Ne=i===v,He=i===D.length&&D.length<P;if(Ne&&!He){let W=i;if(W===0)I=0,E=1,R="forward";else if(W===P)I=W-1,E=W,R="backward";else if(P>1&&D.length>1){let ie=0;if(w[0]!==null&&w[1]!==null){R=W<w[1]?"backward":"forward";let ze=w[0]===w[1]&&w[0]<P;R==="backward"&&!ze&&(ie=-1)}I=ie+W,E=ie+W+1}}I!==-1&&E!==-1&&I!==E&&d.current.setSelectionRange(I,E,R)}let xe=I!==-1?I:i,be=E!==-1?E:v,Ge=R??K;V(xe),q(be),J.current.prev=[xe,be,Ge]}if(document.addEventListener("selectionchange",f,{capture:!0}),f(),document.activeElement===e&&oe(!0),!document.getElementById("input-otp-style")){let i=document.createElement("style");if(i.id="input-otp-style",document.head.appendChild(i),i.sheet){let v="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Z(i.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Z(i.sheet,`[data-input-otp]:autofill { ${v} }`),Z(i.sheet,`[data-input-otp]:-webkit-autofill { ${v} }`),Z(i.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Z(i.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let g=()=>{r&&r.style.setProperty("--root-height",`${e.clientHeight}px`)};g();let x=new ResizeObserver(g);return x.observe(e),()=>{document.removeEventListener("selectionchange",f,{capture:!0}),x.disconnect()}},[]);let[pe,me]=t.useState(!1),[$,oe]=t.useState(!1),[M,V]=t.useState(null),[F,q]=t.useState(null);t.useEffect(()=>{tt(()=>{var e,r,f,g;(e=d.current)==null||e.dispatchEvent(new Event("input"));let x=(r=d.current)==null?void 0:r.selectionStart,i=(f=d.current)==null?void 0:f.selectionEnd,v=(g=d.current)==null?void 0:g.selectionDirection;x!==null&&i!==null&&(V(x),q(i),J.current.prev=[x,i,v])})},[c,$]),t.useEffect(()=>{k!==void 0&&c!==k&&k.length<p&&c.length===p&&(N==null||N(c))},[p,N,k,c]);let L=lt({containerRef:re,inputRef:d,pushPasswordManagerStrategy:A,isFocused:$}),fe=t.useCallback(e=>{let r=e.currentTarget.value.slice(0,p);if(r.length>0&&S&&!S.test(r)){e.preventDefault();return}typeof k=="string"&&r.length<k.length&&document.dispatchEvent(new Event("selectionchange")),z(r)},[p,z,k,S]),ve=t.useCallback(()=>{var e;if(d.current){let r=Math.min(d.current.value.length,p-1),f=d.current.value.length;(e=d.current)==null||e.setSelectionRange(r,f),V(r),q(f)}oe(!0)},[p]),he=t.useCallback(e=>{var r,f;let g=d.current;if(!h&&(!ae.current.isIOS||!e.clipboardData||!g))return;let x=e.clipboardData.getData("text/plain"),i=h?h(x):x;e.preventDefault();let v=(r=d.current)==null?void 0:r.selectionStart,K=(f=d.current)==null?void 0:f.selectionEnd,P=(v!==K?c.slice(0,v)+i+c.slice(K):c.slice(0,v)+i+c.slice(v)).slice(0,p);if(P.length>0&&S&&!S.test(P))return;g.value=P,z(P);let D=Math.min(P.length,p-1),w=P.length;g.setSelectionRange(D,w),V(D),q(w)},[p,z,S,c]),Be=t.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),ge=t.useMemo(()=>({position:"absolute",inset:0,width:L.willPushPWMBadge?`calc(100% + ${L.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:L.willPushPWMBadge?`inset(0 ${L.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:y,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[L.PWM_BADGE_SPACE_WIDTH,L.willPushPWMBadge,y]),Fe=t.useMemo(()=>t.createElement("input",Ye(Xe({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":c.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":F,inputMode:G,pattern:S==null?void 0:S.source,"aria-placeholder":_,style:ge,maxLength:p,value:c,ref:d,onPaste:e=>{var r;he(e),(r=u.onPaste)==null||r.call(u,e)},onChange:fe,onMouseOver:e=>{var r;me(!0),(r=u.onMouseOver)==null||r.call(u,e)},onMouseLeave:e=>{var r;me(!1),(r=u.onMouseLeave)==null||r.call(u,e)},onFocus:e=>{var r;ve(),(r=u.onFocus)==null||r.call(u,e)},onBlur:e=>{var r;oe(!1),(r=u.onBlur)==null||r.call(u,e)}})),[fe,ve,he,G,ge,p,F,M,u,S==null?void 0:S.source,c]),le=t.useMemo(()=>({slots:Array.from({length:p}).map((e,r)=>{var f;let g=$&&M!==null&&F!==null&&(M===F&&r===M||r>=M&&r<F),x=c[r]!==void 0?c[r]:null,i=c[0]!==void 0?null:(f=_==null?void 0:_[r])!=null?f:null;return{char:x,placeholderChar:i,isActive:g,hasFakeCaret:g&&x===null}}),isFocused:$,isHovering:!u.disabled&&pe}),[$,pe,p,F,M,u.disabled,c]),Le=t.useMemo(()=>O?O(le):t.createElement(Re.Provider,{value:le},B),[B,le,O]);return t.createElement(t.Fragment,null,b!==null&&t.createElement("noscript",null,t.createElement("style",null,b)),t.createElement("div",{ref:re,"data-input-otp-container":!0,style:Be,className:j},Le,t.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Fe)))});We.displayName="Input";function Z(n,a){try{n.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var it=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function ee(...n){return $e(Ve(n))}function ne({className:n,containerClassName:a,...o}){return l.jsx(We,{"data-slot":"input-otp",containerClassName:ee("cn-input-otp flex items-center has-disabled:opacity-50",a),spellCheck:!1,className:ee("disabled:cursor-not-allowed",n),...o})}function te({className:n,...a}){return l.jsx("div",{"data-slot":"input-otp-group",className:ee("has-aria-invalid:ring-destructive/20 dark:has-aria-invalid:ring-destructive/40 has-aria-invalid:border-destructive rounded-md has-aria-invalid:ring-3 flex items-center",n),...a})}function m({index:n,className:a,...o}){const s=t.use(Re),{char:T,hasFakeCaret:p,isActive:y}=(s==null?void 0:s.slots[n])??{};return l.jsxs("div",{"data-slot":"input-otp-slot","data-active":y,className:ee("dark:bg-input/30 border-input data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive size-9 border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:ring-3 relative flex items-center justify-center data-[active=true]:z-10",a),...o,children:[T,p&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function st({...n}){return l.jsx("div",{"data-slot":"input-otp-separator",className:"[&_svg:not([class*='size-'])]:size-4 flex items-center",role:"separator",...n,children:l.jsx(Je,{})})}const ft={title:"Forms/Input OTP",component:ne,parameters:{layout:"centered"},tags:["autodocs"]},Q={render:()=>l.jsx(ne,{maxLength:6,children:l.jsxs(te,{children:[l.jsx(m,{index:0}),l.jsx(m,{index:1}),l.jsx(m,{index:2}),l.jsx(m,{index:3}),l.jsx(m,{index:4}),l.jsx(m,{index:5})]})})},U={render:()=>l.jsxs(ne,{maxLength:6,children:[l.jsxs(te,{children:[l.jsx(m,{index:0}),l.jsx(m,{index:1}),l.jsx(m,{index:2})]}),l.jsx(st,{}),l.jsxs(te,{children:[l.jsx(m,{index:3}),l.jsx(m,{index:4}),l.jsx(m,{index:5})]})]})},X={render:()=>l.jsx(ne,{maxLength:4,children:l.jsxs(te,{children:[l.jsx(m,{index:0}),l.jsx(m,{index:1}),l.jsx(m,{index:2}),l.jsx(m,{index:3})]})})};var Se,Te,Oe;Q.parameters={...Q.parameters,docs:{...(Se=Q.parameters)==null?void 0:Se.docs,source:{originalSource:`{
  render: () => <InputOTP maxLength={6}>
      <InputOTPGroup>
        <InputOTPSlot index={0} />
        <InputOTPSlot index={1} />
        <InputOTPSlot index={2} />
        <InputOTPSlot index={3} />
        <InputOTPSlot index={4} />
        <InputOTPSlot index={5} />
      </InputOTPGroup>
    </InputOTP>
}`,...(Oe=(Te=Q.parameters)==null?void 0:Te.docs)==null?void 0:Oe.source}}};var we,je,Ie;U.parameters={...U.parameters,docs:{...(we=U.parameters)==null?void 0:we.docs,source:{originalSource:`{
  render: () => <InputOTP maxLength={6}>
      <InputOTPGroup>
        <InputOTPSlot index={0} />
        <InputOTPSlot index={1} />
        <InputOTPSlot index={2} />
      </InputOTPGroup>
      <InputOTPSeparator />
      <InputOTPGroup>
        <InputOTPSlot index={3} />
        <InputOTPSlot index={4} />
        <InputOTPSlot index={5} />
      </InputOTPGroup>
    </InputOTP>
}`,...(Ie=(je=U.parameters)==null?void 0:je.docs)==null?void 0:Ie.source}}};var Ee,ye,Ce;X.parameters={...X.parameters,docs:{...(Ee=X.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  render: () => <InputOTP maxLength={4}>
      <InputOTPGroup>
        <InputOTPSlot index={0} />
        <InputOTPSlot index={1} />
        <InputOTPSlot index={2} />
        <InputOTPSlot index={3} />
      </InputOTPGroup>
    </InputOTP>
}`,...(Ce=(ye=X.parameters)==null?void 0:ye.docs)==null?void 0:Ce.source}}};const vt=["Default","WithSeparator","FourDigits"];export{Q as Default,X as FourDigits,U as WithSeparator,vt as __namedExportsOrder,ft as default};
