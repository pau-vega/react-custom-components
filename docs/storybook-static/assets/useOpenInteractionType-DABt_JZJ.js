import{r}from"./index-Br2IOmUs.js";import{u as l}from"./useStableCallback-CgA2ffE5.js";import{d as p}from"./detectBrowser-Cp-v3zjv.js";let a=0;function y(n,o={}){const{preventScroll:t=!1,cancelPrevious:i=!0,sync:e=!1}=o;i&&cancelAnimationFrame(a);const c=()=>n==null?void 0:n.focus({preventScroll:t});e?c():a=requestAnimationFrame(c)}function f(n){const o=r.useRef(""),t=r.useCallback(e=>{e.defaultPrevented||(o.current=e.pointerType,n(e,e.pointerType))},[n]);return{onClick:r.useCallback(e=>{if(e.detail===0){n(e,"keyboard");return}"pointerType"in e&&n(e,e.pointerType),n(e,o.current),o.current=""},[n]),onPointerDown:t}}function T(n){const[o,t]=r.useState(null),i=l((k,u)=>{n||t(u||(p?"touch":""))}),e=r.useCallback(()=>{t(null)},[]),{onClick:c,onPointerDown:s}=f(i);return r.useMemo(()=>({openMethod:o,reset:e,triggerProps:{onClick:c,onPointerDown:s}}),[o,e,c,s])}export{y as e,T as u};
