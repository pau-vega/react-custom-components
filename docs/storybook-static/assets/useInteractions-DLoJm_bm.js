var rt=Object.defineProperty;var ot=(t,s,e)=>s in t?rt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var N=(t,s,e)=>ot(t,typeof s!="symbol"?s+"":s,e);import{b as Ne,r as v}from"./index-Br2IOmUs.js";import{i as U,o as pe,n as it,a as ct,d as ut,h as he,l as at}from"./floating-ui.utils.dom-BR__G8pa.js";import{u as Te,T as lt}from"./useTimeout-DEENwbcq.js";import{u as b}from"./useStableCallback-CgA2ffE5.js";import{a as ft}from"./useBaseUiId-Ds3dA0Bv.js";import{u as G}from"./useIsoLayoutEffect-B3i3ZXBb.js";import{f as dt,i as pt,N as ht,u as mt}from"./empty-BwNtW-GQ.js";import{j as We}from"./jsx-runtime-D_zvdyIk.js";import{c as B,t as xe,e as Et,o as gt,n as vt}from"./createBaseUIEventDetails-BfRHIGKf.js";import{d as yt,a as St}from"./event-D_tFMKDJ.js";import{e as Y,c as Me,d as te,f as bt,h as D}from"./element-vmEcGomw.js";import{F as Rt,d as Fe,S as ke}from"./constants-CRqqCNE_.js";function re(t,s,e=!0){return t.filter(r=>{var o;return r.parentId===s&&(!e||((o=r.context)==null?void 0:o.open))}).flatMap(r=>[r,...re(t,r.id,e)])}function hn(t,s){var r;let e=[],n=(r=t.find(o=>o.id===s))==null?void 0:r.parentId;for(;n;){const o=t.find(a=>a.id===n);n=o==null?void 0:o.parentId,o&&(e=e.concat(o))}return e}var oe=Symbol("NOT_FOUND");function Ct(t,s=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(s)}function wt(t,s=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(s)}function Tt(t,s="expected all items to be functions, instead received the following types: "){if(!t.every(e=>typeof e=="function")){const e=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${s}[${e}]`)}}var Oe=t=>Array.isArray(t)?t:[t];function xt(t){const s=Array.isArray(t[0])?t[0]:t;return Tt(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}function Mt(t,s){const e=[],{length:n}=t;for(let r=0;r<n;r++)e.push(t[r].apply(null,s));return e}function Ot(t){let s;return{get(e){return s&&t(s.key,e)?s.value:oe},put(e,n){s={key:e,value:n}},getEntries(){return s?[s]:[]},clear(){s=void 0}}}function It(t,s){let e=[];function n(u){const f=e.findIndex(c=>s(u,c.key));if(f>-1){const c=e[f];return f>0&&(e.splice(f,1),e.unshift(c)),c.value}return oe}function r(u,f){n(u)===oe&&(e.unshift({key:u,value:f}),e.length>t&&e.pop())}function o(){return e}function a(){e=[]}return{get:n,put:r,getEntries:o,clear:a}}var Pt=(t,s)=>t===s;function Dt(t){return function(e,n){if(e===null||n===null||e.length!==n.length)return!1;const{length:r}=e;for(let o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}function Lt(t,s){const e=typeof s=="object"?s:{equalityCheck:s},{equalityCheck:n=Pt,maxSize:r=1,resultEqualityCheck:o}=e,a=Dt(n);let u=0;const f=r<=1?Ot(a):It(r,a);function c(){let p=f.get(arguments);if(p===oe){if(p=t.apply(null,arguments),u++,o){const h=f.getEntries().find(y=>o(y.value,p));h&&(p=h.value,u!==0&&u--)}f.put(arguments,p)}return p}return c.clearCache=()=>{f.clear(),c.resetResultsCount()},c.resultsCount=()=>u,c.resetResultsCount=()=>{u=0},c}var jt=class{constructor(t){this.value=t}deref(){return this.value}},Vt=typeof WeakRef<"u"?WeakRef:jt,Nt=0,Ie=1;function ne(){return{s:Nt,v:void 0,o:null,p:null}}function Ae(t,s={}){let e=ne();const{resultEqualityCheck:n}=s;let r,o=0;function a(){var m;let u=e;const{length:f}=arguments;for(let h=0,y=f;h<y;h++){const S=arguments[h];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const R=E.get(S);R===void 0?(u=ne(),E.set(S,u)):u=R}else{let E=u.p;E===null&&(u.p=E=new Map);const R=E.get(S);R===void 0?(u=ne(),E.set(S,u)):u=R}}const c=u;let p;if(u.s===Ie)p=u.v;else if(p=t.apply(null,arguments),o++,n){const h=((m=r==null?void 0:r.deref)==null?void 0:m.call(r))??r;h!=null&&n(h,p)&&(p=h,o!==0&&o--),r=typeof p=="object"&&p!==null||typeof p=="function"?new Vt(p):p}return c.s=Ie,c.v=p,p}return a.clearCache=()=>{e=ne(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function _e(t,...s){const e=typeof t=="function"?{memoize:t,memoizeOptions:s}:t,n=(...r)=>{let o=0,a=0,u,f={},c=r.pop();typeof c=="object"&&(f=c,c=r.pop()),Ct(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const p={...e,...f},{memoize:m,memoizeOptions:h=[],argsMemoize:y=Ae,argsMemoizeOptions:S=[]}=p,E=Oe(h),R=Oe(S),k=xt(r),I=m(function(){return o++,c.apply(null,arguments)},...E),W=y(function(){a++;const L=Mt(k,arguments);return u=I.apply(null,L),u},...R);return Object.assign(W,{resultFunc:c,memoizedResultFunc:I,dependencies:k,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var Wt=_e(Ae),Ft=Object.assign((t,s=Wt)=>{wt(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const e=Object.keys(t),n=e.map(o=>t[o]);return s(n,(...o)=>o.reduce((a,u,f)=>(a[e[f]]=u,a),{}))},{withTypes:()=>Ft});_e({memoize:Lt,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const H=(t,s,e,n,r,o,...a)=>{if(a.length>0)throw new Error(dt(1));let u;if(t)u=t;else throw new Error("Missing arguments");return u};var me={exports:{}},Ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pe;function kt(){if(Pe)return Ee;Pe=1;var t=Ne();function s(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var e=typeof Object.is=="function"?Object.is:s,n=t.useState,r=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(m,h){var y=h(),S=n({inst:{value:y,getSnapshot:h}}),E=S[0].inst,R=S[1];return o(function(){E.value=y,E.getSnapshot=h,f(E)&&R({inst:E})},[m,y,h]),r(function(){return f(E)&&R({inst:E}),m(function(){f(E)&&R({inst:E})})},[m]),a(y),y}function f(m){var h=m.getSnapshot;m=m.value;try{var y=h();return!e(m,y)}catch{return!0}}function c(m,h){return h()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return Ee.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Ee}var De;function Ke(){return De||(De=1,me.exports=kt()),me.exports}var At=Ke(),ge={exports:{}},ve={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le;function _t(){if(Le)return ve;Le=1;var t=Ne(),s=Ke();function e(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=s.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,f=t.useDebugValue;return ve.useSyncExternalStoreWithSelector=function(c,p,m,h,y){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function k(M){if(!I){if(I=!0,W=M,M=h(M),y!==void 0&&E.hasValue){var j=E.value;if(y(j,M))return O=j}return O=M}if(j=O,n(W,M))return j;var C=h(M);return y!==void 0&&y(j,C)?(W=M,j):(W=M,O=C)}var I=!1,W,O,L=m===void 0?null:m;return[function(){return k(p())},L===null?void 0:function(){return k(L())}]},[p,m,h,y]);var R=r(c,S[0],S[1]);return a(function(){E.hasValue=!0,E.value=R},[R]),f(R),R},ve}var je;function Kt(){return je||(je=1,ge.exports=_t()),ge.exports}var $t=Kt();const qt=pt(19),Ut=qt?Xt:zt;function Yt(t,s,e,n,r){return Ut(t,s,e,n,r)}function Xt(t,s,e,n,r){const o=v.useCallback(()=>s(t.getSnapshot(),e,n,r),[t,s,e,n,r]);return At.useSyncExternalStore(t.subscribe,o,o)}function zt(t,s,e,n,r){return $t.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,o=>s(o,e,n,r))}class J{constructor(s){N(this,"subscribe",s=>(this.listeners.add(s),()=>{this.listeners.delete(s)}));N(this,"getSnapshot",()=>this.state);this.state=s,this.listeners=new Set,this.updateTick=0}setState(s){if(this.state===s)return;this.state=s,this.updateTick+=1;const e=this.updateTick;for(const n of this.listeners){if(e!==this.updateTick)return;n(s)}}update(s){for(const e in s)if(!Object.is(this.state[e],s[e])){J.prototype.setState.call(this,{...this.state,...s});return}}set(s,e){Object.is(this.state[s],e)||J.prototype.setState.call(this,{...this.state,[s]:e})}notifyAll(){const s={...this.state};J.prototype.setState.call(this,s)}}class Bt extends J{constructor(e,n={},r){super(e);N(this,"controlledValues",new Map);N(this,"select",(e,n,r,o)=>{const a=this.selectors[e];return a(this.state,n,r,o)});N(this,"useState",(e,n,r,o)=>{v.useDebugValue(e);const a=this.selectors[e];return Yt(this,a,n,r,o)});this.context=n,this.selectors=r}useSyncedValue(e,n){v.useDebugValue(e),G(()=>{this.state[e]!==n&&this.set(e,n)},[e,n])}useSyncedValueWithCleanup(e,n){const r=this;G(()=>(r.state[e]!==n&&r.set(e,n),()=>{r.set(e,void 0)}),[r,e,n])}useSyncedValues(e){const n=this,r=Object.values(e);G(()=>{n.update(e)},[n,...r])}useControlledProp(e,n,r){v.useDebugValue(e);const o=this,a=n!==void 0;this.controlledValues.has(e)||(this.controlledValues.set(e,a),!a&&!Object.is(this.state[e],r)&&super.setState({...this.state,[e]:r})),G(()=>{a&&!Object.is(o.state[e],n)&&super.setState({...o.state,[e]:n})},[o,e,n,r,a])}set(e,n){this.controlledValues.get(e)!==!0&&super.set(e,n)}update(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}useContextCallback(e,n){v.useDebugValue(e);const r=b(n??ht);this.context[e]=r}useStateSetter(e){const n=v.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(e,r)}),n.current}observe(e,n){let r;typeof e=="function"?r=e:r=this.selectors[e];let o=r(this.state);return n(o,o,this),this.subscribe(a=>{const u=r(a);if(!Object.is(o,u)){const f=o;o=u,n(u,f,this)}})}}function $e(){const t=new Map;return{emit(s,e){var n;(n=t.get(s))==null||n.forEach(r=>r(e))},on(s,e){t.has(s)||t.set(s,new Set),t.get(s).add(e)},off(s,e){var n;(n=t.get(s))==null||n.delete(e)}}}class Ht{constructor(){N(this,"nodesRef",{current:[]});N(this,"events",$e())}addNode(s){this.nodesRef.current.push(s)}removeNode(s){const e=this.nodesRef.current.findIndex(n=>n===s);e!==-1&&this.nodesRef.current.splice(e,1)}}const qe=v.createContext(null),Ue=v.createContext(null),Ye=()=>{var t;return((t=v.useContext(qe))==null?void 0:t.id)||null},Xe=t=>{const s=v.useContext(Ue);return t??s};function mn(t){const s=ft(),e=Xe(t),n=Ye();return G(()=>{if(!s)return;const r={id:s,parentId:n};return e==null||e.addNode(r),()=>{e==null||e.removeNode(r)}},[e,s,n]),s}function En(t){const{children:s,id:e}=t,n=Ye();return We.jsx(qe.Provider,{value:v.useMemo(()=>({id:e,parentId:n}),[e,n]),children:s})}function gn(t){const{children:s,externalTree:e}=t,n=mt(()=>e??new Ht).current;return We.jsx(Ue.Provider,{value:n,children:s})}function Gt(t){return`data-base-ui-${t}`}const Jt={intentional:"onClick",sloppy:"onPointerDown"};function Qt(t){return{escapeKey:typeof t=="boolean"?t:(t==null?void 0:t.escapeKey)??!1,outsidePress:typeof t=="boolean"?t:(t==null?void 0:t.outsidePress)??!0}}function vn(t,s={}){const e="rootStore"in t?t.rootStore:t,n=e.useState("open"),r=e.useState("floatingElement"),o=e.useState("referenceElement"),a=e.useState("domReferenceElement"),{onOpenChange:u,dataRef:f}=e.context,{enabled:c=!0,escapeKey:p=!0,outsidePress:m=!0,outsidePressEvent:h="sloppy",referencePress:y=!1,referencePressEvent:S="sloppy",ancestorScroll:E=!1,bubbles:R,externalTree:k}=s,I=Xe(k),W=b(typeof m=="function"?m:()=>!1),O=typeof m=="function"?W:m,L=v.useRef(!1),{escapeKey:M,outsidePress:j}=Qt(R),C=v.useRef(null),Q=Te(),ye=Te(),$=b(()=>{ye.clear(),f.current.insideReactTree=!1}),ie=v.useRef(!1),Se=v.useRef(""),ce=b(i=>{Se.current=i.pointerType}),q=b(()=>{const i=Se.current,d=i==="pen"||!i?"mouse":i,l=typeof h=="function"?h():h;return typeof l=="string"?l:l[d]}),A=b(i=>{var T;if(!n||!c||!p||i.key!=="Escape"||ie.current)return;const d=(T=f.current.floatingContext)==null?void 0:T.nodeId,l=I?re(I.nodesRef.current,d):[];if(!M&&l.length>0){let w=!0;if(l.forEach(F=>{var ee;(ee=F.context)!=null&&ee.open&&!F.context.dataRef.current.__escapeKeyBubbles&&(w=!1)}),!w)return}const P=yt(i)?i.nativeEvent:i,g=B(Et,P);e.setOpen(!1,g),!M&&!g.isPropagationAllowed&&i.stopPropagation()}),ze=b(i=>{const d=q();return d==="intentional"&&i.type!=="click"||d==="sloppy"&&i.type==="click"}),_=b(()=>{f.current.insideReactTree=!0,ye.start(0,$)}),X=b((i,d=!1)=>{var we;if(ze(i)){$();return}if(f.current.insideReactTree){$();return}if(q()==="intentional"&&d||typeof O=="function"&&!O(i))return;const l=Y(i),P=`[${Gt("inert")}]`,g=Me(e.select("floatingElement")).querySelectorAll(P),T=e.context.triggerElements;if(l&&(T.hasElement(l)||T.hasMatchingElement(x=>te(x,l))))return;let w=U(l)?l:null;for(;w&&!pe(w);){const x=it(w);if(pe(x)||!U(x))break;w=x}if(g.length&&U(l)&&!bt(l)&&!te(l,e.select("floatingElement"))&&Array.from(g).every(x=>!te(w,x)))return;if(ct(l)&&!("touches"in i)){const x=pe(l),V=ut(l),z=/auto|scroll/,Je=x||z.test(V.overflowX),Qe=x||z.test(V.overflowY),Ze=Je&&l.clientWidth>0&&l.scrollWidth>l.clientWidth,et=Qe&&l.clientHeight>0&&l.scrollHeight>l.clientHeight,tt=V.direction==="rtl",nt=et&&(tt?i.offsetX<=l.offsetWidth-l.clientWidth:i.offsetX>l.clientWidth),st=Ze&&i.offsetY>l.clientHeight;if(nt||st)return}const F=(we=f.current.floatingContext)==null?void 0:we.nodeId,ee=I&&re(I.nodesRef.current,F).some(x=>{var V;return D(i,(V=x.context)==null?void 0:V.elements.floating)});if(D(i,e.select("floatingElement"))||D(i,e.select("domReferenceElement"))||ee)return;const Ce=I?re(I.nodesRef.current,F):[];if(Ce.length>0){let x=!0;if(Ce.forEach(V=>{var z;(z=V.context)!=null&&z.open&&!V.context.dataRef.current.__outsidePressBubbles&&(x=!1)}),!x)return}e.setOpen(!1,B(gt,i)),$()}),be=b(i=>{q()!=="sloppy"||i.pointerType==="touch"||!e.select("open")||!c||D(i,e.select("floatingElement"))||D(i,e.select("domReferenceElement"))||X(i)}),Be=b(i=>{if(q()!=="sloppy"||!e.select("open")||!c||D(i,e.select("floatingElement"))||D(i,e.select("domReferenceElement")))return;const d=i.touches[0];d&&(C.current={startTime:Date.now(),startX:d.clientX,startY:d.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},Q.start(1e3,()=>{C.current&&(C.current.dismissOnTouchEnd=!1,C.current.dismissOnMouseDown=!1)}))}),ue=b(i=>{const d=Y(i);function l(){Be(i),d==null||d.removeEventListener(i.type,l)}d==null||d.addEventListener(i.type,l)}),K=b(i=>{const d=L.current;if(L.current=!1,Q.clear(),i.type==="mousedown"&&C.current&&!C.current.dismissOnMouseDown)return;const l=Y(i);function P(){i.type==="pointerdown"?be(i):X(i,d),l==null||l.removeEventListener(i.type,P)}l==null||l.addEventListener(i.type,P)}),He=b(i=>{if(q()!=="sloppy"||!C.current||D(i,e.select("floatingElement"))||D(i,e.select("domReferenceElement")))return;const d=i.touches[0];if(!d)return;const l=Math.abs(d.clientX-C.current.startX),P=Math.abs(d.clientY-C.current.startY),g=Math.sqrt(l*l+P*P);g>5&&(C.current.dismissOnTouchEnd=!0),g>10&&(X(i),Q.clear(),C.current=null)}),ae=b(i=>{const d=Y(i);function l(){He(i),d==null||d.removeEventListener(i.type,l)}d==null||d.addEventListener(i.type,l)}),Ge=b(i=>{q()!=="sloppy"||!C.current||D(i,e.select("floatingElement"))||D(i,e.select("domReferenceElement"))||(C.current.dismissOnTouchEnd&&X(i),Q.clear(),C.current=null)}),le=b(i=>{const d=Y(i);function l(){Ge(i),d==null||d.removeEventListener(i.type,l)}d==null||d.addEventListener(i.type,l)});v.useEffect(()=>{if(!n||!c)return;f.current.__escapeKeyBubbles=M,f.current.__outsidePressBubbles=j;const i=new lt;function d(w){e.setOpen(!1,B(vt,w))}function l(){i.clear(),ie.current=!0}function P(){i.start(at()?5:0,()=>{ie.current=!1})}const g=Me(r);g.addEventListener("pointerdown",ce,!0),p&&(g.addEventListener("keydown",A),g.addEventListener("compositionstart",l),g.addEventListener("compositionend",P)),O&&(g.addEventListener("click",K,!0),g.addEventListener("pointerdown",K,!0),g.addEventListener("touchstart",ue,!0),g.addEventListener("touchmove",ae,!0),g.addEventListener("touchend",le,!0),g.addEventListener("mousedown",K,!0));let T=[];return E&&(U(a)&&(T=he(a)),U(r)&&(T=T.concat(he(r))),!U(o)&&o&&o.contextElement&&(T=T.concat(he(o.contextElement)))),T=T.filter(w=>{var F;return w!==((F=g.defaultView)==null?void 0:F.visualViewport)}),T.forEach(w=>{w.addEventListener("scroll",d,{passive:!0})}),()=>{g.removeEventListener("pointerdown",ce,!0),p&&(g.removeEventListener("keydown",A),g.removeEventListener("compositionstart",l),g.removeEventListener("compositionend",P)),O&&(g.removeEventListener("click",K,!0),g.removeEventListener("pointerdown",K,!0),g.removeEventListener("touchstart",ue,!0),g.removeEventListener("touchmove",ae,!0),g.removeEventListener("touchend",le,!0),g.removeEventListener("mousedown",K,!0)),T.forEach(w=>{w.removeEventListener("scroll",d)}),i.clear(),L.current=!1}},[f,r,o,a,p,O,n,u,E,c,M,j,A,X,K,be,ue,ae,le,ce,e]),v.useEffect($,[O,$]);const fe=v.useMemo(()=>({onKeyDown:A,...y&&{[Jt[S]]:i=>{e.setOpen(!1,B(xe,i.nativeEvent))},...S!=="intentional"&&{onClick(i){e.setOpen(!1,B(xe,i.nativeEvent))}}}}),[A,e,y,S]),Z=b(i=>{const d=Y(i.nativeEvent);!te(e.select("floatingElement"),d)||i.button!==0||(L.current=!0)}),de=b(i=>{!n||!c||i.button!==0||(L.current=!0)}),Re=v.useMemo(()=>({onKeyDown:A,onPointerDown:Z,onMouseDown:Z,onMouseUp:Z,onClickCapture:_,onMouseDownCapture(i){_(),de(i)},onPointerDownCapture(i){_(),de(i)},onMouseUpCapture:_,onTouchEndCapture:_,onTouchMoveCapture:_}),[A,Z,_,de]);return v.useMemo(()=>c?{reference:fe,floating:Re,trigger:fe}:{},[c,fe,Re])}const Zt={open:H(t=>t.open),domReferenceElement:H(t=>t.domReferenceElement),referenceElement:H(t=>t.positionReference??t.referenceElement),floatingElement:H(t=>t.floatingElement),floatingId:H(t=>t.floatingId)};class yn extends Bt{constructor(e){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:a,...u}=e;super({...u,positionReference:u.referenceElement,domReferenceElement:u.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:$e(),nested:n,noEmit:r,triggerElements:a},Zt);N(this,"setOpen",(e,n)=>{var r,o;if((!e||!this.state.open||St(n.event))&&(this.context.dataRef.current.openEvent=e?n.event:void 0),!this.context.noEmit){const a={open:e,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",a)}(o=(r=this.context).onOpenChange)==null||o.call(r,e,n)})}}class Sn{constructor(){this.elements=new Set,this.idMap=new Map}add(s,e){const n=this.idMap.get(s);n!==e&&(n!==void 0&&this.elements.delete(n),this.elements.add(e),this.idMap.set(s,e))}delete(s){const e=this.idMap.get(s);e&&(this.elements.delete(e),this.idMap.delete(s))}hasElement(s){return this.elements.has(s)}hasMatchingElement(s){for(const e of this.elements)if(s(e))return!0;return!1}getById(s){return this.idMap.get(s)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function bn(t=[]){const s=t.map(c=>c==null?void 0:c.reference),e=t.map(c=>c==null?void 0:c.floating),n=t.map(c=>c==null?void 0:c.item),r=t.map(c=>c==null?void 0:c.trigger),o=v.useCallback(c=>se(c,t,"reference"),s),a=v.useCallback(c=>se(c,t,"floating"),e),u=v.useCallback(c=>se(c,t,"item"),n),f=v.useCallback(c=>se(c,t,"trigger"),r);return v.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:u,getTriggerProps:f}),[o,a,u,f])}function se(t,s,e){var a;const n=new Map,r=e==="item",o={};e==="floating"&&(o.tabIndex=-1,o[Rt]="");for(const u in t)r&&t&&(u===Fe||u===ke)||(o[u]=t[u]);for(let u=0;u<s.length;u+=1){let f;const c=(a=s[u])==null?void 0:a[e];typeof c=="function"?f=t?c(t):null:f=c,f&&Ve(o,f,r,n)}return Ve(o,t,r,n),o}function Ve(t,s,e,n){var r;for(const o in s){const a=s[o];e&&(o===Fe||o===ke)||(o.startsWith("on")?(n.has(o)||n.set(o,[]),typeof a=="function"&&((r=n.get(o))==null||r.push(a),t[o]=(...u)=>{var f;return(f=n.get(o))==null?void 0:f.map(c=>c(...u)).find(c=>c!==void 0)})):t[o]=a)}}export{yn as F,Sn as P,Bt as R,J as S,Xe as a,bn as b,Gt as c,Ht as d,mn as e,H as f,re as g,gn as h,En as i,hn as j,Yt as k,vn as l,Ye as u};
