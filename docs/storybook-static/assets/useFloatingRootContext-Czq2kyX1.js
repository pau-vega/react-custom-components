import{i}from"./floating-ui.utils.dom-BR__G8pa.js";import{a as s}from"./useBaseUiId-Ds3dA0Bv.js";import{u as m}from"./empty-BwNtW-GQ.js";import{u as c}from"./useIsoLayoutEffect-B3i3ZXBb.js";import{u,F as g,P as E}from"./useInteractions-DLoJm_bm.js";function R(o){const{open:r=!1,onOpenChange:l,elements:e={}}=o,f=s(),a=u()!=null,n=m(()=>new g({open:r,onOpenChange:l,referenceElement:e.reference??null,floatingElement:e.floating??null,triggerElements:e.triggers??new E,floatingId:f,nested:a,noEmit:o.noEmit||!1})).current;return c(()=>{const t={open:r,floatingId:f};e.reference!==void 0&&(t.referenceElement=e.reference,t.domReferenceElement=i(e.reference)?e.reference:null),e.floating!==void 0&&(t.floatingElement=e.floating),n.update(t)},[r,f,e.reference,e.floating,n]),n.context.onOpenChange=l,n.context.nested=a,n.context.noEmit=o.noEmit||!1,n}export{R as u};
